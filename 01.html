<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ar" dir="rtl"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="theme-color" content="#2c003e" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="description" content="Ù„Ø¹Ø¨Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ù…Ù…ÙŠØ²Ø©" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;Ø±Ø­Ù„Ø© Ø­Ø¨Ù†Ø§: Ø³Ù„ÙŠÙ…Ø§Ù† &amp; Ø­Ø¨ÙŠØ¨ØªÙŠ&lt;/title&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;link rel="manifest" href="./manifest.webmanifest" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;!-- iOS (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--primary: #d63384;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--primary-dark: #a61e63;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--bg-gradient-1: #1a0029;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--bg-gradient-2: #390050;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--card-bg: rgba(255, 255, 255, 0.08);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--text-main: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--success: #00e676;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--error: #ff5252;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--input-bg: rgba(0, 0, 0, 0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--border-radius: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family: 'Tajawal', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, var(--bg-gradient-1), var(--bg-gradient-2));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--text-main);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>min-height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>overflow-x: hidden;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body::before {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>content: '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed; inset: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>pointer-events: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>z-index: -1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.container { width: 100%; max-width: 520px; position: relative; padding-bottom: 60px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: var(--card-bg);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>backdrop-filter: blur(25px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>-webkit-backdrop-filter: blur(25px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(255,255,255,0.15);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: var(--border-radius);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 24px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 15px 50px rgba(0,0,0,0.5);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: transform 0.3s ease;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>animation: float 6s ease-in-out infinite;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes float {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>0% {transform: translateY(0px);}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>50% {transform: translateY(-10px);}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>100% {transform: translateY(0px);}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(45deg, var(--primary), var(--primary-dark));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: none; color: white; padding: 16px; border-radius: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px; font-weight: 800; font-family: inherit; cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%; transition: 0.2s; margin-top: 15px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 5px 20px rgba(214, 51, 132, 0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: relative; overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn::after {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: 0.5s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:hover::after { left: 100%; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:active { transform: scale(0.97); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-secondary { background: rgba(255,255,255,0.1); box-shadow: none; border: 1px solid rgba(255,255,255,0.1); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-danger { background: rgba(255, 82, 82, 0.2); color: #ff8080; border: 1px solid #ff5252; box-shadow: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-small { padding: 8px 15px; font-size: 13px; width: auto; display: inline-block; margin: 5px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-share { background: linear-gradient(45deg, #25D366, #128C7E); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input, textarea, select {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%; padding: 15px; background: var(--input-bg);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(255,255,255,0.1); border-radius: 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white; font-family: inherit; font-size: 16px; margin-bottom: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>outline: none; text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input:focus, textarea:focus, select:focus { border-color: var(--primary); background: rgba(0,0,0,0.6); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.screen { display: none; opacity: 0; animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.screen.active { display: block; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes fadeUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.progress-container { margin-bottom: 25px; position: relative; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.progress-bar { height: 8px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), #ff80ab); width: 0%; transition: width 0.5s ease; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.pin-grid { display: flex; gap: 10px; justify-content: center; margin: 25px 0; direction: ltr; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.pin-input { width: 55px; height: 65px; font-size: 26px; border-radius: 16px; margin: 0; text-align:center; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.option-card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.05); padding: 18px; border-radius: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center; cursor: pointer; border: 2px solid transparent;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: 0.2s; font-weight: 600; user-select:none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.option-card:active { transform: scale(0.95); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.option-card.selected { border-color: var(--primary); background: rgba(214, 51, 132, 0.15); font-weight: 800; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#toast {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed; top: 20px; left: 50%; transform: translateX(-50%);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(20, 20, 30, 0.95); padding: 15px 30px; border-radius: 50px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 9999; display: none; font-size: 15px; text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: max-content; max-width: 90%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#toast.success { border-color: var(--success); color: var(--success); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#toast.error { border-color: var(--error); color: var(--error); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.settings-btn, .stats-btn, .backup-btn, .back-btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 45px; height: 45px; background: rgba(0,0,0,0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 50%; display: flex; align-items: center; justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer; z-index: 100; font-size: 22px; backdrop-filter: blur(5px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: 0.3s; border: none; color: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.settings-btn { top: 20px; left: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stats-btn { top: 75px; left: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.backup-btn { top: 130px; left: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.back-btn { top: 20px; right: 20px; display: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.settings-btn:hover, .stats-btn:hover, .backup-btn:hover, .back-btn:hover { background: var(--primary); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.back-btn.visible { display: flex; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.admin-overlay {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed; inset: 0; background: #1a1a2e; z-index: 2000;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 20px; overflow-y: auto; display: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.admin-overlay.open { display: block; animation: fadeIn 0.3s; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stage-editor {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.03);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(255,255,255,0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 12px; border-radius: 12px; overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stage-header {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 15px; display: flex; justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center; cursor: pointer; background: rgba(255,255,255,0.02);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stage-body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 15px; display: none; border-top: 1px solid rgba(255,255,255,0.05);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stage-editor.open .stage-body { display: block; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.confetti { position: fixed; width: 10px; height: 10px; animation: fall linear forwards; z-index: 9998; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes fall { to { transform: translateY(110vh) rotate(720deg); } }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.1);} 100% {transform: scale(1);} }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stats-grid {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid-template-columns: repeat(2, 1fr);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 20px 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.05);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(255,255,255,0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-value {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 28px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 900;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 5px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-label { font-size: 13px; opacity: 0.75; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.motivation-msg {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>top: 50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>left: 50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translate(-50%, -50%) scale(0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, var(--primary), var(--primary-dark));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 30px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 5000;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 20px 60px rgba(0,0,0,0.7);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 90%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 350px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.motivation-msg.show {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes popIn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>0% { transform: translate(-50%, -50%) scale(0) rotate(-180deg); opacity: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.motivation-msg.hide { animation: popOut 0.3s ease forwards; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes popOut { to { transform: translate(-50%, -50%) scale(0); opacity: 0; } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.connection-status {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed; bottom: 20px; right: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(0,0,0,0.7);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px 15px; border-radius: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px; display: none; align-items: center; gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 1000;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.connection-status.offline { display: flex; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.connection-dot {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 8px; height: 8px; border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #ff5252; animation: blink 1s infinite;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.35; } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.loader {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed; top: 50%; left: 50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translate(-50%, -50%);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 50px; height: 50px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 4px solid rgba(255,255,255,0.2);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-top-color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>animation: spin 0.8s linear infinite;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 10000;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@media (max-width: 600px) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.card { padding: 18px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.options-grid { gap: 8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.option-card { padding: 14px; font-size: 14px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.pin-input { width: 50px; height: 60px; font-size: 24px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.stats-grid { grid-template-columns: 1fr; gap: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="toast" role="status" aria-live="polite"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="loader" id="loader" aria-label="Loading"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="connection-status" id="connectionStatus"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="connection-dot"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;span&gt;ØºÙŠØ± Ù…ØªØµÙ„&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;button class="settings-btn" type="button" onclick="requestAdminAccess()" aria-label="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"&gt;âš™ï¸&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;button class="stats-btn" type="button" onclick="stats.show()" aria-label="Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"&gt;ğŸ“Š&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;button class="backup-btn" type="button" onclick="backup.show()" aria-label="Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ"&gt;ğŸ’¾&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;button class="back-btn" id="backBtn" type="button" onclick="game.goBack()" aria-label="Ø±Ø¬ÙˆØ¹"&gt;â¬…ï¸&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="container" id="mainContainer"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="screen-start" class="screen active"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="card" style="text-align:center; padding-top:40px; padding-bottom:40px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="font-size:70px; margin-bottom:15px; animation:pulse 2s infinite;"&gt;ğŸ’â¤ï¸&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h1 style="margin:0; font-size:32px;"&gt;Ø±Ø­Ù„Ø© Ø­Ø¨Ù†Ø§&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;p style="opacity:0.85; margin:15px 0 30px; line-height:1.8; font-size:16px;"&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>Ø£Ø¬Ù…Ù„ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®.. ÙˆØ£Ø­Ù„Ù‰ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª.&lt;br&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>Ù‡Ù„ ØªØªØ°ÙƒØ±ÙŠÙ† ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙŠØ§ Ø¹Ù…Ø±ÙŠØŸ</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn" type="button" onclick="game.start()"&gt;Ù„Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø­Ù„Ø© âœ¨&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="screen-game" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="progress-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="progress-bar"&gt;&lt;div class="progress-fill" id="progressBar"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="display:flex; justify-content:space-between; font-size:12px; opacity:0.65; margin-top:8px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span id="stageCounter"&gt;1/12&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span onclick="game.restart()" style="cursor:pointer; text-decoration:underline;"&gt;Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h2 id="stageTitle" style="margin:0 0 5px 0; color:var(--primary); font-size:20px;"&gt;&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;img id="stageImg" alt="" style="width:100%; border-radius:12px; margin-bottom:15px; display:none;"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;p id="stagePrompt" style="font-size:18px; line-height:1.6; white-space:pre-line; margin-bottom:20px; font-weight:600;"&gt;&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:12px; font-size:14px; margin-bottom:20px; border-right:4px solid var(--primary);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>ğŸ«¶ &lt;b&gt;Ù…Ù‡Ù…ØªÙƒ:&lt;/b&gt; &lt;span id="stageTask" style="opacity:0.92;"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div id="inputContainer"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="display:flex; gap:10px; margin-top:25px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-secondary" type="button" style="flex:1;" onclick="game.showHint()"&gt;ØªÙ„Ù…ÙŠØ­ØŸ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn" type="button" style="flex:2; margin-top:0;" onclick="game.check()"&gt;ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="screen-win" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="card" style="text-align:center;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="font-size:70px; margin-bottom:10px;"&gt;ğŸğŸ‘‘&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h1 style="color:var(--primary); margin-bottom:10px;"&gt;Ø£Ø­Ù„Ù‰ Ù…Ù† ÙŠØ¬Ø§ÙˆØ¨!&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;p style="opacity:0.92; line-height:1.6; font-size:17px;"&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>ÙƒÙ„ Ù‡Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ù…Ù‡Ù…Ø©ØŒ Ø¨Ø³ ÙˆØ¬ÙˆØ¯Ùƒ Ø¨Ø­ÙŠØ§ØªÙŠ Ù‡Ùˆ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£Ù‡Ù….&lt;br&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>ÙˆØµÙ„ØªÙŠ Ù„Ù„ÙƒÙ†Ø² ÙŠØ§ Ù‚Ù„Ø¨ÙŠ.</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="background:rgba(255,255,255,0.05); padding:20px; border-radius:16px; margin:25px 0; border:1px dashed rgba(255,255,255,0.3);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;p style="margin:0 0 10px; font-size:14px; opacity:0.75;"&gt;Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ÙŠØ© Ù„ÙØªØ­ Ø§Ù„Ù‡Ø¯ÙŠØ©:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;h2 style="margin:0; color:var(--success); letter-spacing:1px;"&gt;Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stats-grid" style="margin:25px 0;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="stat-value" id="winAttempts"&gt;0&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="stat-value" id="winTime"&gt;00:00&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn btn-share" type="button" onclick="stats.share()"&gt;Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªÙŠØ¬Ø© ğŸ“¤&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn btn-secondary" type="button" onclick="game.restart(true)"&gt;Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="screen-stats" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h2 style="margin:0 0 20px 0; color:var(--primary); text-align:center;"&gt;ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stats-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="totalAttempts"&gt;0&lt;/div&gt;&lt;div class="stat-label"&gt;Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="correctAnswers"&gt;0&lt;/div&gt;&lt;div class="stat-label"&gt;Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="wrongAnswers"&gt;0&lt;/div&gt;&lt;div class="stat-label"&gt;Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="hintsUsed"&gt;0&lt;/div&gt;&lt;div class="stat-label"&gt;Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="totalTime"&gt;00:00&lt;/div&gt;&lt;div class="stat-label"&gt;Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆÙ‚Øª&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;&lt;div class="stat-value" id="gamesCompleted"&gt;0&lt;/div&gt;&lt;div class="stat-label"&gt;Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn btn-danger" type="button" onclick="stats.reset()"&gt;Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn btn-secondary" type="button" onclick="stats.close()"&gt;Ø¥ØºÙ„Ø§Ù‚&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="screen-backup" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h2 style="margin:0 0 20px 0; color:var(--primary); text-align:center;"&gt;ğŸ’¾ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:12px; margin-bottom:20px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;p style="margin:0 0 10px; font-size:14px; opacity:0.85;"&gt;Ø§Ø­ÙØ¸ÙŠ ØªÙ‚Ø¯Ù…Ùƒ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn" type="button" onclick="backup.export()"&gt;ğŸ“¥ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:12px; margin-bottom:20px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;p style="margin:0 0 10px; font-size:14px; opacity:0.85;"&gt;Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù†Ø³Ø®Ø© Ø³Ø§Ø¨Ù‚Ø©:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-secondary" type="button" onclick="backup.import()"&gt;ğŸ“¤ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="background:rgba(255,82,82,0.1); padding:15px; border-radius:12px; margin-bottom:20px; border:1px solid rgba(255,82,82,0.3);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;p style="margin:0; font-size:13px; opacity:0.95;"&gt;âš ï¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn btn-secondary" type="button" onclick="backup.close()"&gt;Ø¥ØºÙ„Ø§Ù‚&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="adminPanel" class="admin-overlay" aria-hidden="true"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:25px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h2 style="margin:0"&gt;ğŸ›  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="btn-small btn-secondary" type="button" onclick="admin.close()"&gt;Ø¥ØºÙ„Ø§Ù‚&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="background:#232336; padding:15px; border-radius:16px; margin-bottom:20px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div style="display:flex; gap:8px; flex-wrap:wrap;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn" type="button" onclick="admin.addStage()"&gt;+ Ø³Ø¤Ø§Ù„&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn" type="button" onclick="admin.editMotivations()"&gt;âœï¸ Ø±Ø³Ø§Ø¦Ù„ ØªØ­ÙÙŠØ²ÙŠØ©&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-secondary" type="button" onclick="admin.exportData()"&gt;Ù†Ø³Ø®&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-secondary" type="button" onclick="admin.importData()"&gt;Ù„ØµÙ‚&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-danger" type="button" onclick="admin.resetFactory()"&gt;Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø£ØµÙ„ÙŠ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div id="stagesList"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div id="motivationsList" style="display:none;"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="btn" type="button" style="margin-top:20px;" onclick="admin.save()"&gt;ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;br&gt;&lt;br&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>âœ… Config / Keys / Version</p>
<p class="p1">=========================== */</p>
<p class="p1">const APP_VERSION = 7;</p>
<p class="p1">const STORAGE = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>data: `love_hunt_data_v${APP_VERSION}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>motivations: `love_hunt_motivations_v${APP_VERSION}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>progress: `love_hunt_progress_v${APP_VERSION}`,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>stats: `love_hunt_stats_v${APP_VERSION}`,</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  </span>// ÙÙ‚Ø· Ù…ÙØ§ØªÙŠØ­Ù†Ø§ (Ø¹Ø´Ø§Ù† Ù…Ø§ Ù†Ù…Ø³Ø­ Ø£Ø´ÙŠØ§Ø¡ ØºÙŠØ± Ø§Ù„Ù„Ø¹Ø¨Ø©)</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>allKeys() { return [this.data, this.motivations, this.progress, this.stats]; }</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ” Helpers (Escape + Admin PIN hash)</p>
<p class="p1">=========================== */</p>
<p class="p1">function escapeHTML(str) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return String(str ?? '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.replace(/&amp;/g, '&amp;amp;')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.replace(/&lt;/g, '&amp;lt;')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.replace(/&gt;/g, '&amp;gt;')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.replace(/"/g, '&amp;quot;')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.replace(/'/g, '&amp;#39;');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">const ADMIN_PIN_HASH = "6bfefd82c23dd6030bf505daa3cb5c55c7d1a294c0b483a724bccdc8a73577b6";</p>
<p class="p1">const ADMIN_SALT = "love_hunt_admin_v7:";</p>
<p class="p2"><br></p>
<p class="p1">async function sha256Hex(input) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!window.crypto?.subtle) return null;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const enc = new TextEncoder();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const data = enc.encode(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hashBuffer = await crypto.subtle.digest('SHA-256', data);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const hashArray = Array.from(new Uint8Array(hashBuffer));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return hashArray.map(b =&gt; b.toString(16).padStart(2, '0')).join('');</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ® Default Data</p>
<p class="p1">=========================== */</p>
<p class="p1">const DEFAULT_DATA = [</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "1. Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ğŸ‘¶ğŸ»", type: "pin4", prompt: "ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© Ù†ÙˆÙ‘Ø± Ø­Ø¨ÙŠØ¨Ùƒ Ø§Ù„Ø¯Ù†ÙŠØ§ØŸ\n(Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯)", answer: "1992", hint: "Ø§Ù„ØªØ³Ø¹ÙŠÙ†Ø§Øª..", task: "Ø§Ø±Ø³Ù„ÙŠ ØµÙˆØ±ØªÙŠ ÙˆØ§Ù†Ø§ ØµØºÙŠØ± Ø§Ø°Ø§ Ø¹Ù†Ø¯Ùƒ (Ø£Ùˆ Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ø·ÙÙ„)", successMsg: "Ø§Ù„Ø¹Ù…Ø± ÙƒÙ„Ù‡ ÙŠØ§ Ø±Ø¨ â¤ï¸" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "2. Ø£ÙˆÙ„ ØªÙˆØ§ØµÙ„ ğŸ“±", type: "pin4", prompt: "Ù…ØªÙ‰ ÙƒØ§Ù† Ø£ÙˆÙ„ ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ†Ø§ØŸ\nØ§ÙƒØªØ¨ÙŠ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø´Ù‡Ø± (ÙŠÙˆÙ… 13 Ø´Ù‡Ø± 4).\nÙ…Ø«Ø§Ù„: 1304", answer: "1304", hint: "Ø´Ù‡Ø± Ø£Ø¨Ø±ÙŠÙ„.. ÙŠÙˆÙ… 13", task: "ØµÙˆØ±ÙŠ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø­ÙŠÙ† ÙˆØ§Ø±Ø³Ù„ÙŠÙ‡Ø§ Ù„ÙŠ ğŸ˜‰", successMsg: "Ù…Ø§ Ù†Ø³ÙŠØªÙŠ! ÙŠØ§ Ø²ÙŠÙ† Ø§Ù„Ø°Ø§ÙƒØ±Ø© ğŸ˜" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "3. ÙƒÙ„Ù…Ø§Øª Ù„Ø§ ØªÙÙ†Ø³Ù‰ ğŸ’¬", type: "text", prompt: "ÙˆØ´ Ù‡ÙŠ Ø£ÙˆÙ„ Ø¬Ù…Ù„Ø© Ù‚Ù„ØªÙ‡Ø§ Ù„Ùƒ Ø¨Ø¹Ø¯ Ø±Ø¯ Ø§Ù„Ø³Ù„Ø§Ù…ØŸ", answer: "ÙŠØ§Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡ ÙˆØ³Ù‡Ù„Ø§ ÙˆÙ…Ø±Ø­Ø¨Ø§", hint: "ÙÙŠÙ‡Ø§ ØªØ±Ø­ÙŠØ¨ Ù‚ÙˆÙŠ (ÙŠØ§Ù‡Ù„Ø§...)", task: "Ø³Ø¬Ù„ÙŠ ÙÙˆÙŠØ³ ÙˆÙ‚ÙˆÙ„ÙŠÙ‡Ø§ Ø¨Ù†ÙØ³ Ù†Ø¨Ø±ØªÙŠ ğŸ˜‚", successMsg: "ØµØ­! ÙƒØ§Ù†Øª Ù…Ù† ÙƒÙ„ Ù‚Ù„Ø¨ÙŠ ÙˆØ§Ù„Ù„Ù‡ ğŸ¤" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "4. ÙŠÙˆÙ… Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· (Ø§Ù„Ø¹Ù‚Ø¯) ğŸ’", type: "pin4", prompt: "ØªØ§Ø±ÙŠØ® Ø¹Ù‚Ø¯ Ù‚Ø±Ø§Ù†Ù†Ø§ (Ø§Ù„Ù…Ù„ÙƒØ©).\nÙŠÙˆÙ… 24 Ø´Ù‡Ø± 10.\nØ§ÙƒØªØ¨ÙŠÙ‡Ø§: 2410", answer: "2410", hint: "Ø´Ù‡Ø± Ø£ÙƒØªÙˆØ¨Ø±", task: "Ø¨ÙˆØ³Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§Ø¡ ğŸ˜˜", successMsg: "ÙŠÙˆÙ… ØµØ±ØªÙŠ Ø­Ù„Ø§Ù„ÙŠ ğŸ’" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "5. Ø°ÙƒØ±Ù‰ Ø´Ù‚ÙŠÙ‘Ø© ğŸ˜‰", type: "pin4", prompt: "ØªØªØ°ÙƒØ±ÙŠÙ† ØªØ§Ø±ÙŠØ® Ø£ÙˆÙ„ 'Ù‚Ø¨ØµØ©'ØŸ ğŸ˜‚\nÙŠÙˆÙ… 25 Ø´Ù‡Ø± 10.\nØ§ÙƒØªØ¨ÙŠ: 2510", answer: "2510", hint: "Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù‚Ø¯ Ø¨ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯ Ø¨Ø³", task: "Ø§Ø±Ø³Ù„ÙŠ Ø¥ÙŠÙ…ÙˆØ¬ÙŠ ÙŠØ¶Ø­Ùƒ ğŸ˜‚", successMsg: "Ø£Ø­Ù„Ù‰ Ø°ÙƒØ±Ù‰ ÙˆØ£Ø­Ù„Ù‰ Ù‚Ø¨ØµØ© ğŸ˜‚â¤ï¸" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "6. Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ù†ØªØ¸Ø± ğŸ‘°ğŸ»â€â™€ï¸", type: "pin4", prompt: "Ù…ØªÙ‰ Ù…ÙˆØ¹Ø¯ Ø²ÙˆØ§Ø¬Ù†Ø§ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ØŸ\nÙŠÙˆÙ… 17 Ø´Ù‡Ø± 4.\nØ§ÙƒØªØ¨ÙŠ: 1704", answer: "1704", hint: "Ø³Ù†Ø© 2026.. Ø´Ù‡Ø± Ø£Ø¨Ø±ÙŠÙ„", task: "Ø¯Ø¹ÙˆØ© Ø­Ù„ÙˆØ© Ù…Ù† Ù‚Ù„Ø¨Ùƒ Ù„Ù†Ø§", successMsg: "ÙŠØ§ Ø±Ø¨ ØªÙ…Ù… Ù„Ù†Ø§ Ø¹Ù„Ù‰ Ø®ÙŠØ± ğŸ¤²ğŸ»" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "7. Ø´Ù‡Ø± Ø§Ù„Ø¹Ø³Ù„ âœˆï¸", type: "pin4", prompt: "Ù…ØªÙ‰ ØªØ§Ø±ÙŠØ® Ø³ÙØ±ØªÙ†Ø§ØŸ\nÙŠÙˆÙ… 20 Ø´Ù‡Ø± 4.\nØ§ÙƒØªØ¨ÙŠ: 2004", answer: "2004", hint: "Ø¨Ø¹Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø¨Ù€ 3 Ø£ÙŠØ§Ù…", task: "Ø¬Ù‡Ø²ÙŠ Ø§Ù„Ø´Ù†Ø·Ø© (Ù…Ø¬Ø§Ø²ÙŠØ§Ù‹) ÙˆØ§Ø±Ù…Ø²ÙŠ Ø¨Ø·ÙŠØ§Ø±Ø© âœˆï¸", successMsg: "Ø¨Ù†Ø·ÙŠØ± Ù„Ø³Ø§Ø¨Ø¹ Ø³Ù…Ø§ Ù…Ù† Ø§Ù„ÙØ±Ø­Ø© â˜ï¸" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "8. ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø³Ù… ğŸ”¢", type: "choice", prompt: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙ Ø§Ø³Ù… Ø­Ø¨ÙŠØ¨ÙƒØŸ", answer: "5", options: "4,5,6,7", hint: "Ø³ Ù„ ÙŠ ...", task: "Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…ÙŠ Ù…Ø²Ø®Ø±Ù", successMsg: "ÙŠØ§ Ø­Ù„Ùˆ Ø§Ø³Ù…ÙŠ ÙˆØ§Ù†ØªÙŠ ØªØ®ØªØ§Ø±ÙŠÙ†Ù‡" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "9. Ù…Ø¹Ø§Ø¯Ù„Ø© Ø­Ø¨Ù†Ø§ â•", type: "choice", prompt: "Ø¥Ø°Ø§ Ø¬Ù…Ø¹Ù†Ø§ Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙ Ø§Ø³Ù…Ùƒ Ù…Ø¹ Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙ Ø§Ø³Ù…ÙŠ.. ÙƒÙ… ÙŠØ·Ù„Ø¹ Ø§Ù„Ù†Ø§ØªØ¬ØŸ", answer: "9", options: "8,9,10,11", hint: "Ø­Ø±ÙˆÙÙŠ 5.. ÙˆØ­Ø±ÙˆÙÙƒ 4", task: "Ø§Ø±Ø³Ù…ÙŠ Ù‚Ù„Ø¨ ÙˆØ§ÙƒØªØ¨ÙŠ Ø¯Ø§Ø®Ù„Ù‡ Ø±Ù‚Ù… 9", successMsg: "Ø±Ù‚Ù… Ø§Ù„ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„Ø­Ø¨ â¤ï¸" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "10. Ø§Ù„Ø£Ø±Ø´ÙŠÙ ğŸ“”", type: "text", prompt: "ÙƒÙŠÙ Ù‚Ø±Ø±Ù†Ø§ Ù†Ø³Ø¬Ù„ Ø°ÙƒØ±ÙŠØ§ØªÙ†Ø§ ÙˆÙ„Ø­Ø¸Ø§ØªÙ†Ø§ Ø§Ù„Ø­Ù„ÙˆØ©ØŸ", answer: "Ø¨Ø§Ù„Ø¯ÙØªØ±", hint: "Ø´ÙŠØ¡ Ù†ÙƒØªØ¨ ÙÙŠÙ‡...", task: "Ø§ÙƒØªØ¨ÙŠ: Ø£Ø­Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¯ÙØªØ± ÙˆØµÙˆØ±ÙŠÙ‡Ø§", successMsg: "Ø¹Ø´Ø§Ù† ØªØ¨Ù‚Ù‰ Ù„Ù„Ø¹Ù…Ø± ÙƒÙ„Ù‡ ğŸ“" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "11. Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ â™¥ï¸", type: "text", prompt: "ÙˆØ´ Ø§Ù„Ø±Ù…Ø² (Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ) Ø§Ù„Ù„ÙŠ Ø®ØµØµØªÙ‡ Ù„Ùƒ Ù„Ø­Ø§Ù„ÙƒØŸ\n(Ø§Ù†Ø³Ø®ÙŠÙ‡ ÙˆØ§Ù„ØµÙ‚ÙŠÙ‡)", answer: "â™¥ï¸", hint: "Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø£Ø­Ù…Ø± Ø§Ù„ØºØ§Ù…Ù‚: â™¥ï¸", task: "Ø£Ø±Ø³Ù„ÙŠ Ø§Ù„Ø±Ù…Ø² Ù„ÙŠ Ø§Ù„Ø­ÙŠÙ†", successMsg: "Ø£Ù†ØªÙ Ø§Ù„Ù‚Ù„Ø¨ ÙƒÙ„Ù‡ â™¥ï¸" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ title: "Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ğŸ", type: "text", prompt: "Ø¹Ø´Ø§Ù† ØªÙØªØ­ÙŠÙ† Ø§Ù„ÙƒÙ†Ø².. Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ©:\nØ£Ù†Ø§ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…", answer: "Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…", hint: "Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ±", task: "Ø§Ø³ØªØ¹Ø¯ÙŠ!!", successMsg: "Ø£Ù„Ù Ù…Ø¨Ø±ÙˆÙƒ ÙŠØ§ Ø±ÙˆØ­ÙŠ! ğŸ‰" }</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">const DEFAULT_MOTIVATIONS = [</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ after: 3, message: "ğŸ’ª Ø±Ø§Ø¦Ø¹! 3 Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©.. Ø§Ø³ØªÙ…Ø±ÙŠ ÙŠØ§ Ø¨Ø·Ù„Ø©!" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ after: 6, message: "ğŸ”¥ Ù†ØµÙ Ø§Ù„Ø·Ø±ÙŠÙ‚! Ø°Ø§ÙƒØ±ØªÙƒ Ø®ÙŠØ§Ù„ÙŠØ© ÙŠØ§ Ø¹Ù…Ø±ÙŠ" },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>{ after: 9, message: "â­ ØªØ³Ø¹Ø© Ù…Ù† Ø§Ø«Ù†ÙŠ Ø¹Ø´Ø±! Ø£Ù†ØªÙ Ø£Ø³Ø·ÙˆØ±Ø©!" }</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">let stages = [];</p>
<p class="p1">let motivations = [];</p>
<p class="p1">let currentStageIdx = 0;</p>
<p class="p2"><br></p>
<p class="p1">let gameStats = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>totalAttempts: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>correctAnswers: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>wrongAnswers: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>hintsUsed: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>gamesCompleted: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>totalTimeSeconds: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>currentSessionStart: null</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸŒ Connection Monitor</p>
<p class="p1">=========================== */</p>
<p class="p1">const connection = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window.addEventListener('online', () =&gt; this.update(true));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window.addEventListener('offline', () =&gt; this.update(false));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.update(navigator.onLine);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>update(isOnline) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const el = document.getElementById('connectionStatus');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!el) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (isOnline) el.classList.remove('offline');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else el.classList.add('offline');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ¨ UI helpers</p>
<p class="p1">=========================== */</p>
<p class="p1">const ui = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>toast(msg, type = 'normal') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const el = document.getElementById('toast');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.textContent = String(msg ?? '');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.className = type;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setTimeout(() =&gt; { el.style.display = 'none'; }, 3000);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>setLoading(on) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const el = document.getElementById('loader');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!el) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.style.display = on ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>confetti() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const colors = ['#d63384', '#ffffff', '#ff80ab', '#ffc107'];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>for (let i = 0; i &lt; 60; i++) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const el = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.className = 'confetti';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.style.left = Math.random() * 100 + 'vw';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.style.top = (-10 - Math.random() * 30) + 'px';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.style.background = colors[Math.floor(Math.random() * colors.length)];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.style.animationDuration = (Math.random() * 2 + 1) + 's';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.body.appendChild(el);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setTimeout(() =&gt; el.remove(), 3200);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showMotivation(msg) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const el = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.className = 'motivation-msg';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="font-size:50px; margin-bottom:15px;"&gt;ğŸ‰&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;p id="motMsg" style="margin:0; font-size:18px; line-height:1.6;"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.body.appendChild(el);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.querySelector('#motMsg').textContent = String(msg ?? '');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>requestAnimationFrame(() =&gt; el.classList.add('show'));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.classList.add('hide');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setTimeout(() =&gt; el.remove(), 300);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}, 3000);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ“Š Stats</p>
<p class="p1">=========================== */</p>
<p class="p1">const stats = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>load() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const saved = localStorage.getItem(STORAGE.stats);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (saved) Object.assign(gameStats, JSON.parse(saved));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.warn("Stats load failed:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>save() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>localStorage.setItem(STORAGE.stats, JSON.stringify(gameStats));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.warn("Stats save failed:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>show() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('totalAttempts').innerText = gameStats.totalAttempts;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('correctAnswers').innerText = gameStats.correctAnswers;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('wrongAnswers').innerText = gameStats.wrongAnswers;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('hintsUsed').innerText = gameStats.hintsUsed;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('totalTime').innerText = game.formatTime(gameStats.totalTimeSeconds);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('gamesCompleted').innerText = gameStats.gamesCompleted;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>game.showScreen('screen-stats');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>close() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (currentStageIdx &gt; 0 &amp;&amp; currentStageIdx &lt; stages.length) game.showScreen('screen-game');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else game.showScreen('screen-start');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>reset() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!confirm("Ù…ØªØ£ÙƒØ¯Ø© Ù…Ù† Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªØŸ")) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>gameStats = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>totalAttempts: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>correctAnswers: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wrongAnswers: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>hintsUsed: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gamesCompleted: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>totalTimeSeconds: 0,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>currentSessionStart: null</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.save();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.show();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.toast("ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>share() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const text = `ğŸ® Ø£Ù†Ù‡ÙŠØª Ù„Ø¹Ø¨Ø© "Ø±Ø­Ù„Ø© Ø­Ø¨Ù†Ø§" ğŸ’â¤ï¸</p>
<p class="p2"><br></p>
<p dir="rtl" class="p1">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙŠ:</p>
<p dir="rtl" class="p1">â€¢ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: ${gameStats.totalAttempts}</p>
<p dir="rtl" class="p1">â€¢ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: ${gameStats.correctAnswers}</p>
<p dir="rtl" class="p1">â€¢ Ø§Ù„ÙˆÙ‚Øª: ${game.formatTime(gameStats.totalTimeSeconds)}</p>
<p dir="rtl" class="p1">â€¢ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©: ${gameStats.gamesCompleted}</p>
<p class="p2"><br></p>
<p dir="rtl" class="p1">âœ¨ Ø°Ø§ÙƒØ±ØªÙŠ Ù‚ÙˆÙŠØ© ÙˆØ§Ù„Ø­Ø¨ Ø£Ù‚ÙˆÙ‰!`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (navigator.share) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>navigator.share({ title: 'Ø±Ø­Ù„Ø© Ø­Ø¨Ù†Ø§', text })</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.catch(() =&gt; this.copyToClipboard(text));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.copyToClipboard(text);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>copyToClipboard(text) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (navigator.clipboard?.writeText) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>navigator.clipboard.writeText(text)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.then(() =&gt; ui.toast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©! ğŸ’•", "success"))</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.catch(() =&gt; ui.toast("Ø§Ù„Ù†Øµ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©!", "success"));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("Ø§Ù„Ù†Øµ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©!", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ’¾ Backup (export/import)</p>
<p class="p1">=========================== */</p>
<p class="p1">const backup = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>show() { game.showScreen('screen-backup'); },</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>close() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (currentStageIdx &gt; 0 &amp;&amp; currentStageIdx &lt; stages.length) game.showScreen('screen-game');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else game.showScreen('screen-start');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>export() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const data = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>appVersion: APP_VERSION,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>timestamp: Date.now(),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>stages,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>motivations,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>progress: currentStageIdx,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>stats: gameStats</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const jsonStr = JSON.stringify(data, null, 2);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const blob = new Blob([jsonStr], { type: 'application/json' });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const a = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>a.href = url;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>a.download = `love-hunt-backup-${new Date().toISOString().slice(0,10)}.json`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.body.appendChild(a);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>a.click();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.body.removeChild(a);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>URL.revokeObjectURL(url);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.error("Export failed:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("âŒ ÙØ´Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>import() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const input = document.createElement('input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input.type = 'file';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input.accept = 'application/json';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input.onchange = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const file = e.target.files?.[0];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!file) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>reader.onload = (event) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const data = JSON.parse(event.target.result);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (!data || !data.stages || !Array.isArray(data.stages)) throw new Error("Bad file");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>stages = data.stages;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>motivations = Array.isArray(data.motivations) ? data.motivations : DEFAULT_MOTIVATIONS;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>currentStageIdx = Number.isFinite(data.progress) ? data.progress : 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (data.stats &amp;&amp; typeof data.stats === 'object') Object.assign(gameStats, data.stats);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>localStorage.setItem(STORAGE.data, JSON.stringify(stages));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>localStorage.setItem(STORAGE.motivations, JSON.stringify(motivations));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>localStorage.setItem(STORAGE.progress, String(currentStageIdx));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>stats.save();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>ui.toast("âœ… ØªÙ… Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­!", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>setTimeout(() =&gt; location.reload(), 800);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>console.error(err);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>ui.toast("âŒ ÙØ´Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯: Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>reader.readAsText(file);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input.click();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ® Game Logic</p>
<p class="p1">=========================== */</p>
<p class="p1">const game = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>init() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>connection.init();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const savedData = localStorage.getItem(STORAGE.data);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>stages = savedData ? JSON.parse(savedData) : JSON.parse(JSON.stringify(DEFAULT_DATA));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const savedMot = localStorage.getItem(STORAGE.motivations);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>motivations = savedMot ? JSON.parse(savedMot) : JSON.parse(JSON.stringify(DEFAULT_MOTIVATIONS));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const savedProgress = localStorage.getItem(STORAGE.progress);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (savedProgress !== null) currentStageIdx = parseInt(savedProgress, 10) || 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>stats.load();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (currentStageIdx &gt; 0 &amp;&amp; currentStageIdx &lt; stages.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>this.showScreen('screen-game');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>this.render();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!gameStats.currentSessionStart) gameStats.currentSessionStart = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.updateBackButton();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.error("Initialization Error:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©. Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.resetOnlyOurKeys();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>location.reload();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.registerServiceWorker();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>resetOnlyOurKeys() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>STORAGE.allKeys().forEach(k =&gt; localStorage.removeItem(k));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>async registerServiceWorker() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if ('serviceWorker' in navigator) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>await navigator.serviceWorker.register('./sw.js', { scope: './' });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Ù…Ùˆ Ù„Ø§Ø²Ù… Ù†ÙˆÙ‚Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ùˆ ÙØ´Ù„ Ø§Ù„Ù€ SW</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.warn("SW register failed:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>start() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>currentStageIdx = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.saveProgress();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.showScreen('screen-game');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.render();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.updateBackButton();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>gameStats.currentSessionStart = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>restart(full = false) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (full || confirm("Ù…ØªØ£ÙƒØ¯Ø© ØªØ¨ÙŠÙ† ØªØ¹ÙŠØ¯ÙŠÙ† Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŸ")) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>currentStageIdx = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.saveProgress();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.showScreen('screen-start');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.updateBackButton();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gameStats.currentSessionStart = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>goBack() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (currentStageIdx &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>currentStageIdx--;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.saveProgress();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.render();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.updateBackButton();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateBackButton() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const btn = document.getElementById('backBtn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const inGame = document.getElementById('screen-game').classList.contains('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (currentStageIdx &gt; 0 &amp;&amp; inGame) btn.classList.add('visible');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else btn.classList.remove('visible');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>render() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = stages[currentStageIdx];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!data) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('stageTitle').innerText = data.title;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('stageCounter').innerText = `${currentStageIdx + 1} / ${stages.length}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('stagePrompt').innerText = data.prompt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('stageTask').innerText = data.task || "Ø§Ø³ØªÙ…Ø±ÙŠ Ø¨Ø­Ø¨Ùƒ â¤ï¸";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const imgEl = document.getElementById('stageImg');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (data.img &amp;&amp; String(data.img).trim() !== "") {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>imgEl.src = data.img;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>imgEl.style.display = "block";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>imgEl.style.display = "none";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>imgEl.removeAttribute('src');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const pct = ((currentStageIdx) / stages.length) * 100;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('progressBar').style.width = `${pct}%`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const container = document.getElementById('inputContainer');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>container.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (data.type === 'text') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>container.innerHTML = `&lt;input type="text" id="ansInput" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§..." autocomplete="off"&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const inp = document.getElementById('ansInput');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (inp) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>inp.focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>inp.addEventListener("keypress", (e) =&gt; { if (e.key === "Enter") game.check(); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}, 50);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else if (data.type === 'choice') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const opts = String(data.options || '').split(',').map(s =&gt; s.trim()).filter(Boolean);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const grid = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid.className = 'options-grid';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>opts.forEach(val =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const item = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>item.className = 'option-card';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>item.textContent = val; // âœ… Ø¢Ù…Ù†</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>item.addEventListener('click', () =&gt; this.selectOption(item, val));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid.appendChild(item);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const hidden = document.createElement('input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>hidden.type = 'hidden';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>hidden.id = 'ansInput';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>container.appendChild(grid);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>container.appendChild(hidden);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>else if (String(data.type).startsWith('pin')) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const len = data.type === 'pin3' ? 3 : 4;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const grid = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid.className = 'pin-grid';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>for (let i = 0; i &lt; len; i++) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const inp = document.createElement('input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>inp.type = 'tel';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>inp.maxLength = 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>inp.className = 'pin-input';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>inp.id = `p${i}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>inp.inputMode = 'numeric';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid.appendChild(inp);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>container.appendChild(grid);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.setupPinLogic(len);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>setupPinLogic(len) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const inputs = document.querySelectorAll('.pin-input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (inputs[0]) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>inputs[0].focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>inputs[0].addEventListener('paste', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const text = (e.clipboardData || window.clipboardData).getData('text') || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const digits = text.replace(/\D/g, '').slice(0, len);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (digits.length === len) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>for (let i = 0; i &lt; len; i++) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const el = document.getElementById(`p${i}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (el) el.value = digits[i];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const last = document.getElementById(`p${len-1}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (last) last.focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>inputs.forEach((input, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>input.addEventListener('input', (e) =&gt; {</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// Ø®Ø° Ø£ÙˆÙ„ Ø±Ù‚Ù… ÙÙ‚Ø·</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>e.target.value = (e.target.value || '').replace(/\D/g,'').slice(0,1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (e.target.value &amp;&amp; idx &lt; len - 1) document.getElementById(`p${idx+1}`).focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>input.addEventListener('keydown', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (e.key === 'Backspace' &amp;&amp; !e.target.value &amp;&amp; idx &gt; 0) document.getElementById(`p${idx-1}`).focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (e.key === 'Enter') game.check();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>selectOption(el, val) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.querySelectorAll('.option-card').forEach(c =&gt; c.classList.remove('selected'));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>el.classList.add('selected');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const hidden = document.getElementById('ansInput');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (hidden) hidden.value = val;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>check() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = stages[currentStageIdx];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let userAns = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (String(data.type).startsWith('pin')) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.querySelectorAll('.pin-input').forEach(i =&gt; userAns += i.value);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const inp = document.getElementById('ansInput');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>userAns = inp ? inp.value : "";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!userAns) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("âš ï¸ Ù„Ø§ ØªØ³ØªØ¹Ø¬Ù„ÙŠÙ†.. Ø¬Ø§ÙˆØ¨ÙŠ Ø£ÙˆÙ„!", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>gameStats.totalAttempts++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const cleanUser = this.normalize(userAns);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const cleanCorrect = this.normalize(data.answer);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const isCorrect = (cleanUser === cleanCorrect);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (isCorrect) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gameStats.correctAnswers++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.handleSuccess(data);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gameStats.wrongAnswers++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>stats.save();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("âŒ Ø®Ø·Ø£.. Ø­Ø§ÙˆÙ„ÙŠ ØªØªØ°ÙƒØ±ÙŠÙ† ğŸ˜‰", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (navigator.vibrate) navigator.vibrate(200);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>normalize(text) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return String(text ?? '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.trim()</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.toLowerCase()</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.replace(/\s/g, '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.replace(/[Ø£Ø¥Ø¢]/g, 'Ø§')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.replace(/Ø©/g, 'Ù‡')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.replace(/Ù‰/g, 'ÙŠ');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>handleSuccess(data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.toast(data.successMsg || "âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.confetti();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stats.save();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>currentStageIdx++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.saveProgress();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.checkMotivation();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (currentStageIdx &gt;= stages.length) this.completeGame();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>else { this.render(); this.updateBackButton(); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}, 1400);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>checkMotivation() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>motivations.forEach(mot =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (gameStats.correctAnswers === mot.after) ui.showMotivation(mot.message);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>completeGame() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>gameStats.gamesCompleted++;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (gameStats.currentSessionStart) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const timeSpent = Math.floor((Date.now() - gameStats.currentSessionStart) / 1000);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gameStats.totalTimeSeconds += timeSpent;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gameStats.currentSessionStart = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('winAttempts').innerText = gameStats.totalAttempts;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('winTime').innerText = this.formatTime(timeSpent);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stats.save();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.showScreen('screen-win');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>formatTime(seconds) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const mins = Math.floor(seconds / 60);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const secs = seconds % 60;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showHint() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = stages[currentStageIdx];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>gameStats.hintsUsed++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stats.save();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.toast("ğŸ’¡ " + (data.hint || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙ„Ù…ÙŠØ­"), "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>saveProgress() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>localStorage.setItem(STORAGE.progress, String(currentStageIdx));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.warn("Failed to save progress:", e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showScreen(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.querySelectorAll('.screen').forEach(s =&gt; s.classList.remove('active'));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const target = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (target) target.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.updateBackButton();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>ğŸ›  Admin Panel</p>
<p class="p1">=========================== */</p>
<p class="p1">const admin = {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>toggleAccordion(idx) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.querySelectorAll('.stage-editor').forEach((el, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (i === idx) el.classList.toggle('open');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>else el.classList.remove('open');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderList() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const list = document.getElementById('stagesList');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('motivationsList').style.display = 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stages.forEach((s, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>div.className = 'stage-editor';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stage-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span&gt;${escapeHTML(idx+1)}. ${escapeHTML(s.title)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span style="font-size:10px; opacity:0.6"&gt;${escapeHTML(s.type)}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stage-body"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³Ø¤Ø§Ù„&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.title)}" data-idx="${idx}" data-key="title"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div style="display:flex; gap:10px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div style="flex:1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„Ù†ÙˆØ¹&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;select data-idx="${idx}" data-key="type"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="text" ${s.type==='text'?'selected':''}&gt;Ù†Øµ&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="pin4" ${s.type==='pin4'?'selected':''}&gt;Ø£Ø±Ù‚Ø§Ù… (4)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="pin3" ${s.type==='pin3'?'selected':''}&gt;Ø£Ø±Ù‚Ø§Ù… (3)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="choice" ${s.type==='choice'?'selected':''}&gt;Ø®ÙŠØ§Ø±Ø§Øª&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div style="flex:1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.answer)}" data-idx="${idx}" data-key="answer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ù†Øµ Ø§Ù„Ù„ØºØ²&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;textarea rows="2" data-idx="${idx}" data-key="prompt"&gt;${escapeHTML(s.prompt)}&lt;/textarea&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="choice-only" style="${s.type==='choice'?'':'display:none'}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª (Ø¨ÙŠÙ†Ù‡Ù… ÙØ§ØµÙ„Ø©)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.options || '')}" data-idx="${idx}" data-key="options"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„ØªÙ„Ù…ÙŠØ­&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.hint || '')}" data-idx="${idx}" data-key="hint"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.successMsg || '')}" data-idx="${idx}" data-key="successMsg"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„Ù…Ù‡Ù…Ø©&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.task || '')}" data-idx="${idx}" data-key="task"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="text" value="${escapeHTML(s.img || '')}" data-idx="${idx}" data-key="img" placeholder="https://..."&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div style="margin-top:15px; border-top:1px solid rgba(255,255,255,0.1); padding-top:10px; display:flex; gap:10px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-secondary" type="button" onclick="admin.move(${idx}, -1)"&gt;â¬†ï¸&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-secondary" type="button" onclick="admin.move(${idx}, 1)"&gt;â¬‡ï¸&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-danger" type="button" onclick="admin.remove(${idx})" style="margin-right:auto"&gt;Ø­Ø°Ù&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>list.appendChild(div);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const header = div.querySelector('.stage-header');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>header.addEventListener('click', () =&gt; this.toggleAccordion(idx));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// Events (update)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.querySelectorAll('input[data-idx], textarea[data-idx], select[data-idx]').forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.addEventListener('change', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const idx = parseInt(el.getAttribute('data-idx'), 10);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const key = el.getAttribute('data-key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const val = el.value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>stages[idx][key] = val;</p>
<p class="p2"><br></p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// Ù„Ùˆ ØµØ§Ø± type=choice Ø£Ø¸Ù‡Ø±/Ø§Ø®ÙÙ Ø®ÙŠØ§Ø±Ø§Øª</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (key === 'type') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const parent = el.closest('.stage-body');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const box = parent.querySelector('.choice-only');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (box) box.style.display = (val === 'choice') ? 'block' : 'none';</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>// Ø­Ø¯ Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø®ÙŠØ§Ø±Ø§Øª</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (val === 'choice' &amp;&amp; !stages[idx].options) stages[idx].options = "1,2,3,4";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>editMotivations() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const list = document.getElementById('motivationsList');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.innerHTML = '&lt;h3 style="margin-bottom:15px;"&gt;âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ©&lt;/h3&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('stagesList').style.display = 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>motivations.forEach((mot, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>div.className = 'stage-editor open';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stage-body"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø¨Ø¹Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;input type="number" value="${escapeHTML(mot.after)}" data-idx="${idx}" data-key="after"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;label&gt;Ø§Ù„Ø±Ø³Ø§Ù„Ø©&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;textarea rows="2" data-idx="${idx}" data-key="message"&gt;${escapeHTML(mot.message)}&lt;/textarea&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="btn-small btn-danger" type="button" onclick="admin.removeMotivation(${idx})"&gt;Ø­Ø°Ù&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>list.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.querySelectorAll('input[data-idx], textarea[data-idx]').forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>el.addEventListener('change', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const idx = parseInt(el.getAttribute('data-idx'), 10);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const key = el.getAttribute('data-key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (key === 'after') motivations[idx].after = parseInt(el.value, 10) || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>else motivations[idx].message = el.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const addBtn = document.createElement('button');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>addBtn.className = 'btn-small btn';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>addBtn.type = 'button';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>addBtn.innerText = '+ Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø©';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>addBtn.onclick = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>motivations.push({ after: 3, message: "Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.editMotivations();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const backBtn = document.createElement('button');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backBtn.className = 'btn-small btn-secondary';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backBtn.type = 'button';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backBtn.innerText = 'Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ø³Ø¦Ù„Ø©';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backBtn.onclick = () =&gt; this.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>backBtn.style.marginRight = '10px';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.appendChild(addBtn);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.appendChild(backBtn);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>removeMotivation(idx) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!confirm("Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ")) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>motivations.splice(idx, 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.editMotivations();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>addStage() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stages.push({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>title: "Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>type: "text",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>prompt: "Ø§Ù„Ø³Ø¤Ø§Ù„...",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>answer: "Ø§Ù„Ø¬ÙˆØ§Ø¨",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>hint: "",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>task: "",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>successMsg: "",</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>img: ""</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.toggleAccordion(stages.length - 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>remove(idx) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!confirm("Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ")) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>stages.splice(idx, 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>move(idx, dir) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (idx + dir &lt; 0 || idx + dir &gt;= stages.length) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>[stages[idx], stages[idx + dir]] = [stages[idx + dir], stages[idx]];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>this.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>save() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>localStorage.setItem(STORAGE.data, JSON.stringify(stages));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>localStorage.setItem(STORAGE.motivations, JSON.stringify(motivations));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! ğŸ’¾", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>setTimeout(() =&gt; location.reload(), 600);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>console.error(e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸ (Storage)", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>exportData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = JSON.stringify({ stages, motivations }, null, 2);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (navigator.clipboard?.writeText) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>navigator.clipboard.writeText(data).then(() =&gt; ui.toast("ØªÙ… Ø§Ù„Ù†Ø³Ø® ğŸ“‹", "success"))</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.catch(() =&gt; ui.toast("Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©", "success"));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>prompt("Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„Ù†Øµ:", data);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>importData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const data = prompt("Ø§Ù„ØµÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ (JSON):");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!data) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const parsed = JSON.parse(data);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (parsed.stages &amp;&amp; Array.isArray(parsed.stages)) stages = parsed.stages;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>else if (Array.isArray(parsed)) stages = parsed;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>motivations = (parsed.motivations &amp;&amp; Array.isArray(parsed.motivations)) ? parsed.motivations : DEFAULT_MOTIVATIONS;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>this.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("ØªÙ… Ø§Ù„Ù„ØµÙ‚ØŒ Ø§Ø¶ØºØ· Ø­ÙØ¸", "success");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ§Ù„Ø­", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>resetFactory() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (!confirm("Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©ØŸ")) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>STORAGE.allKeys().forEach(k =&gt; localStorage.removeItem(k));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>location.reload();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>close() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const panel = document.getElementById('adminPanel');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>panel.classList.remove('open');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>panel.setAttribute('aria-hidden', 'true');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>},</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>open() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const panel = document.getElementById('adminPanel');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>panel.classList.add('open');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>panel.setAttribute('aria-hidden', 'false');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">async function requestAdminAccess() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pin = prompt("Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ:");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (pin === null) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.setLoading(true);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const hashed = await sha256Hex(ADMIN_SALT + pin);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.setLoading(false);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (hashed &amp;&amp; hashed === ADMIN_PIN_HASH) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>admin.open();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>admin.renderList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ui.toast("Ø®Ø·Ø£ ğŸš«", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.setLoading(false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>ui.toast("ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø²", "error");</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">/* ===========================</p>
<p class="p1"><span class="Apple-converted-space">Â Â  </span>Start</p>
<p class="p1">=========================== */</p>
<p class="p1">document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>game.init();</p>
<p class="p1">});</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
